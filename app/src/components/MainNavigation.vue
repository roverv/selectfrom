<template>
  <div class="main-navigation">

    <div class="px-5 py-2 text-center border-light-200 mb-4 ">
      <svg class="jsx-2263963463 artboard" style="width: 100%; margin-bottom: 20px; ">
        <svg viewBox="-640.1335877862593 -314.2270992366413 1280.2671755725187 414.2270992366413"
             xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
             class="jsx-2263963463 artboard-inner" style="width: 229px; height: 74.0924px; max-height: 100%;">
          <g transform="translate(-647.7671755725189 99.36386768447836) scale(1.767034209782301)" fill="#FFFFFF">
            <g id="line1">
              <path
                  d="M11.664-1.152C14.400-0.144 17.256 0.360 20.232 0.360C23.208 0.360 25.872-0.120 28.224-1.080C30.576-2.040 32.412-3.384 33.732-5.112C35.052-6.840 35.712-8.808 35.712-11.016C35.712-13.896 34.608-16.308 32.400-18.252C30.192-20.196 26.520-21.600 21.384-22.464C17.592-23.088 14.952-23.916 13.464-24.948C11.976-25.980 11.232-27.360 11.232-29.088C11.232-30.720 12.024-32.076 13.608-33.156C15.192-34.236 17.304-34.776 19.944-34.776C24.024-34.776 27.240-33.432 29.592-30.744C30.264-30.024 31.104-29.664 32.112-29.664C32.688-29.664 33.144-29.784 33.480-30.024C34.248-30.504 34.632-31.152 34.632-31.968C34.632-32.448 34.440-33.000 34.056-33.624C32.616-35.544 30.720-37.044 28.368-38.124C26.016-39.204 23.256-39.744 20.088-39.744C16.008-39.744 12.612-38.784 9.900-36.864C7.188-34.944 5.832-32.232 5.832-28.728C5.832-26.040 6.996-23.748 9.324-21.852C11.652-19.956 15.168-18.624 19.872-17.856C23.520-17.280 26.184-16.416 27.864-15.264C29.544-14.112 30.384-12.672 30.384-10.944C30.336-9.072 29.472-7.560 27.792-6.408C26.112-5.256 23.592-4.680 20.232-4.680C17.928-4.680 15.828-5.040 13.932-5.760C12.036-6.480 10.512-7.512 9.360-8.856C8.784-9.528 8.088-9.864 7.272-9.864C6.648-9.864 6.048-9.648 5.472-9.216C4.704-8.592 4.320-7.872 4.320-7.056C4.320-6.528 4.560-5.976 5.040-5.400C6.720-3.576 8.928-2.160 11.664-1.152Z"></path>
              <path
                  d="M109.879-37.260C107.143-38.916 103.999-39.744 100.447-39.744C96.799-39.744 93.547-38.892 90.691-37.188C87.835-35.484 85.603-33.108 83.995-30.060C82.387-27.012 81.583-23.544 81.583-19.656C81.583-15.816 82.435-12.372 84.139-9.324C85.843-6.276 88.207-3.900 91.231-2.196C94.255-0.492 97.687 0.360 101.527 0.360C103.783 0.360 106.135-0.084 108.583-0.972C111.031-1.860 113.047-2.976 114.631-4.320C115.159-4.800 115.423-5.352 115.423-5.976C115.423-6.696 115.111-7.344 114.487-7.920C113.959-8.304 113.431-8.496 112.903-8.496C112.231-8.496 111.583-8.256 110.959-7.776C109.903-6.864 108.499-6.108 106.747-5.508C104.995-4.908 103.255-4.608 101.527-4.608C97.495-4.608 94.135-5.832 91.447-8.280C88.759-10.728 87.223-13.920 86.839-17.856L115.927-17.856C116.695-17.856 117.319-18.084 117.799-18.540C118.279-18.996 118.519-19.608 118.519-20.376C118.519-24.120 117.763-27.456 116.251-30.384C114.739-33.312 112.615-35.604 109.879-37.260ZM91.375-31.392C93.775-33.648 96.799-34.776 100.447-34.776C104.047-34.776 106.999-33.648 109.303-31.392C111.607-29.136 112.951-26.160 113.335-22.464L86.983-22.464C87.511-26.160 88.975-29.136 91.375-31.392Z"></path>
              <path
                  d="M167.594-3.492C169.442-1.164 171.830 0 174.758 0L175.694 0C176.654 0 177.434-0.252 178.034-0.756C178.634-1.260 178.934-1.920 178.934-2.736C178.934-3.552 178.718-4.212 178.286-4.716C177.854-5.220 177.278-5.472 176.558-5.472L174.758-5.472C173.462-5.472 172.394-6.120 171.554-7.416C170.714-8.712 170.294-10.392 170.294-12.456L170.294-53.496C170.294-54.312 170.042-54.972 169.538-55.476C169.034-55.980 168.374-56.232 167.558-56.232C166.790-56.232 166.142-55.980 165.614-55.476C165.086-54.972 164.822-54.312 164.822-53.496L164.822-12.456C164.822-8.808 165.746-5.820 167.594-3.492Z"></path>
              <path
                  d="M248.998-37.260C246.262-38.916 243.118-39.744 239.566-39.744C235.918-39.744 232.666-38.892 229.810-37.188C226.954-35.484 224.722-33.108 223.114-30.060C221.506-27.012 220.702-23.544 220.702-19.656C220.702-15.816 221.554-12.372 223.258-9.324C224.962-6.276 227.326-3.900 230.350-2.196C233.374-0.492 236.806 0.360 240.646 0.360C242.902 0.360 245.254-0.084 247.702-0.972C250.150-1.860 252.166-2.976 253.750-4.320C254.278-4.800 254.542-5.352 254.542-5.976C254.542-6.696 254.230-7.344 253.606-7.920C253.078-8.304 252.550-8.496 252.022-8.496C251.350-8.496 250.702-8.256 250.078-7.776C249.022-6.864 247.618-6.108 245.866-5.508C244.114-4.908 242.374-4.608 240.646-4.608C236.614-4.608 233.254-5.832 230.566-8.280C227.878-10.728 226.342-13.920 225.958-17.856L255.046-17.856C255.814-17.856 256.438-18.084 256.918-18.540C257.398-18.996 257.638-19.608 257.638-20.376C257.638-24.120 256.882-27.456 255.370-30.384C253.858-33.312 251.734-35.604 248.998-37.260ZM230.494-31.392C232.894-33.648 235.918-34.776 239.566-34.776C243.166-34.776 246.118-33.648 248.422-31.392C250.726-29.136 252.070-26.160 252.454-22.464L226.102-22.464C226.630-26.160 228.094-29.136 230.494-31.392Z"></path>
              <path
                  d="M311.429-2.268C314.405-0.516 317.765 0.360 321.509 0.360C326.789 0.360 331.157-1.248 334.613-4.464C335.093-4.896 335.333-5.424 335.333-6.048C335.333-6.768 334.997-7.416 334.325-7.992C333.845-8.376 333.317-8.568 332.741-8.568C332.069-8.568 331.421-8.304 330.797-7.776C328.445-5.712 325.349-4.680 321.509-4.680C318.725-4.680 316.253-5.328 314.093-6.624C311.933-7.920 310.253-9.708 309.053-11.988C307.853-14.268 307.253-16.824 307.253-19.656C307.253-22.536 307.817-25.128 308.945-27.432C310.073-29.736 311.669-31.524 313.733-32.796C315.797-34.068 318.149-34.704 320.789-34.704C322.901-34.704 324.821-34.308 326.549-33.516C328.277-32.724 329.861-31.536 331.301-29.952C331.973-29.232 332.669-28.872 333.389-28.872C333.869-28.872 334.325-29.016 334.757-29.304C335.573-29.880 335.981-30.552 335.981-31.320C335.981-31.896 335.789-32.400 335.405-32.832C331.661-37.440 326.789-39.744 320.789-39.744C317.189-39.744 313.949-38.880 311.069-37.152C308.189-35.424 305.933-33.036 304.301-29.988C302.669-26.940 301.853-23.496 301.853-19.656C301.853-15.912 302.705-12.516 304.409-9.468C306.113-6.420 308.453-4.020 311.429-2.268Z"></path>
              <path
                  d="M404.460-4.752C403.980-5.280 403.356-5.544 402.588-5.544L400.644-5.544C398.388-5.544 396.540-6.324 395.100-7.884C393.660-9.444 392.940-11.448 392.940-13.896L392.940-33.120L401.076-33.120C401.844-33.120 402.456-33.348 402.912-33.804C403.368-34.260 403.596-34.824 403.596-35.496C403.596-36.216 403.368-36.804 402.912-37.260C402.456-37.716 401.844-37.944 401.076-37.944L392.940-37.944L392.940-49.104C392.940-49.920 392.676-50.592 392.148-51.120C391.620-51.648 390.948-51.912 390.132-51.912C389.316-51.912 388.656-51.648 388.152-51.120C387.648-50.592 387.396-49.920 387.396-49.104L387.396-37.944L382.716-37.944C381.948-37.944 381.336-37.716 380.880-37.260C380.424-36.804 380.196-36.216 380.196-35.496C380.196-34.824 380.424-34.260 380.880-33.804C381.336-33.348 381.948-33.120 382.716-33.120L387.396-33.120L387.396-13.896C387.396-11.256 387.960-8.892 389.088-6.804C390.216-4.716 391.788-3.060 393.804-1.836C395.820-0.612 398.100 0 400.644 0L402.156 0C403.020 0 403.740-0.264 404.316-0.792C404.892-1.320 405.180-1.968 405.180-2.736C405.180-3.552 404.940-4.224 404.460-4.752Z"></path>
              <path
                  d="M462.751-48.024C464.359-50.136 466.747-51.192 469.915-51.192C470.731-51.192 471.403-51.432 471.931-51.912C472.459-52.392 472.723-52.992 472.723-53.712C472.723-54.432 472.459-55.032 471.931-55.512C471.403-55.992 470.731-56.232 469.915-56.232C465.115-56.232 461.395-54.696 458.755-51.624C456.115-48.552 454.795-44.448 454.795-39.312L454.795-37.944L450.187-37.944C449.419-37.944 448.807-37.716 448.351-37.260C447.895-36.804 447.667-36.216 447.667-35.496C447.667-34.824 447.895-34.260 448.351-33.804C448.807-33.348 449.419-33.120 450.187-33.120L454.795-33.120L454.795-2.808C454.795-1.944 455.047-1.260 455.551-0.756C456.055-0.252 456.691 0 457.459 0C458.371 0 459.079-0.252 459.583-0.756C460.087-1.260 460.339-1.944 460.339-2.808L460.339-33.120L468.979-33.120C469.747-33.120 470.359-33.348 470.815-33.804C471.271-34.260 471.499-34.824 471.499-35.496C471.499-36.216 471.271-36.804 470.815-37.260C470.359-37.716 469.747-37.944 468.979-37.944L460.339-37.944L460.339-39.600C460.339-43.104 461.143-45.912 462.751-48.024Z"></path>
              <path
                  d="M539.870-39.024C538.694-39.552 537.098-39.816 535.082-39.816C532.586-39.816 530.258-39.264 528.098-38.160C525.938-37.056 524.162-35.496 522.770-33.480L522.770-36.648C522.770-37.512 522.530-38.184 522.050-38.664C521.570-39.144 520.898-39.384 520.034-39.384C519.170-39.384 518.498-39.144 518.018-38.664C517.538-38.184 517.298-37.512 517.298-36.648L517.298-2.736C517.298-1.872 517.538-1.200 518.018-0.720C518.498-0.240 519.170 0 520.034 0C520.898 0 521.570-0.240 522.050-0.720C522.530-1.200 522.770-1.872 522.770-2.736L522.770-24.264C522.770-27.336 523.910-29.832 526.190-31.752C528.470-33.672 531.410-34.632 535.010-34.632C535.778-34.632 536.354-34.608 536.738-34.560C537.794-34.464 538.538-34.416 538.970-34.416C539.690-34.416 540.254-34.536 540.662-34.776C541.070-35.016 541.370-35.472 541.562-36.144C541.610-36.288 541.634-36.504 541.634-36.792C541.634-37.752 541.046-38.496 539.870-39.024Z"></path>
              <path
                  d="M593.446-2.232C596.494-0.504 599.914 0.360 603.706 0.360C607.498 0.360 610.918-0.504 613.966-2.232C617.014-3.960 619.402-6.348 621.130-9.396C622.858-12.444 623.722-15.864 623.722-19.656C623.722-23.448 622.846-26.880 621.094-29.952C619.342-33.024 616.954-35.424 613.930-37.152C610.906-38.880 607.498-39.744 603.706-39.744C599.914-39.744 596.494-38.880 593.446-37.152C590.398-35.424 588.010-33.024 586.282-29.952C584.554-26.880 583.690-23.448 583.690-19.656C583.690-15.864 584.554-12.444 586.282-9.396C588.010-6.348 590.398-3.960 593.446-2.232ZM611.194-6.624C608.986-5.328 606.490-4.680 603.706-4.680C600.970-4.680 598.486-5.328 596.254-6.624C594.022-7.920 592.270-9.708 590.998-11.988C589.726-14.268 589.090-16.824 589.090-19.656C589.090-22.536 589.726-25.116 590.998-27.396C592.270-29.676 594.022-31.464 596.254-32.760C598.486-34.056 600.970-34.704 603.706-34.704C606.490-34.704 608.986-34.056 611.194-32.760C613.402-31.464 615.130-29.676 616.378-27.396C617.626-25.116 618.250-22.536 618.250-19.656C618.250-16.824 617.626-14.268 616.378-11.988C615.130-9.708 613.402-7.920 611.194-6.624Z"></path>
              <path
                  d="M721.901-37.800C719.717-39.144 717.209-39.816 714.377-39.816C711.593-39.816 709.085-39.216 706.853-38.016C704.621-36.816 702.809-35.136 701.417-32.976C700.169-35.136 698.489-36.816 696.377-38.016C694.265-39.216 691.889-39.816 689.249-39.816C687.089-39.816 685.085-39.396 683.237-38.556C681.389-37.716 679.793-36.528 678.449-34.992L678.449-36.576C678.449-37.392 678.197-38.064 677.693-38.592C677.189-39.120 676.529-39.384 675.713-39.384C674.897-39.384 674.225-39.120 673.697-38.592C673.169-38.064 672.905-37.392 672.905-36.576L672.905-2.736C672.905-1.920 673.169-1.260 673.697-0.756C674.225-0.252 674.897 0 675.713 0C676.529 0 677.189-0.252 677.693-0.756C678.197-1.260 678.449-1.920 678.449-2.736L678.449-24.048C678.449-27.120 679.409-29.640 681.329-31.608C683.249-33.576 685.697-34.560 688.673-34.560C691.505-34.560 693.797-33.564 695.549-31.572C697.301-29.580 698.177-26.880 698.177-23.472L698.177-2.736C698.177-1.920 698.441-1.260 698.969-0.756C699.497-0.252 700.169 0 700.985 0C701.801 0 702.461-0.252 702.965-0.756C703.469-1.260 703.721-1.920 703.721-2.736L703.721-23.472L703.721-23.616C703.673-26.880 704.585-29.520 706.457-31.536C708.329-33.552 710.777-34.560 713.801-34.560C716.633-34.560 718.925-33.564 720.677-31.572C722.429-29.580 723.305-26.880 723.305-23.472L723.305-2.736C723.305-1.920 723.569-1.260 724.097-0.756C724.625-0.252 725.297 0 726.113 0C726.929 0 727.589-0.252 728.093-0.756C728.597-1.260 728.849-1.920 728.849-2.736L728.849-23.472C728.849-26.736 728.237-29.604 727.013-32.076C725.789-34.548 724.085-36.456 721.901-37.800Z"></path>
            </g>
          </g>
          <g transform="translate(-147.50059208791407 -333.23873864882296) scale(2.8774989644498734)" id="logomark">
            <g fill="#FFFFFF">
              <path
                  d="M23.706 41.28c7.597 1.779 17.713 2.866 28.828 2.866 17.174 0 31.972-2.592 38.769-6.329l2.217-14.813c-7.598 2.574-20.597 4.271-35.363 4.271-23.43 0-42.423-4.272-42.423-9.542 0-5.271 18.993-9.543 42.423-9.543 10.436 0 19.985.849 27.375 2.254-7.822-2.333-20.043-3.837-33.79-3.837C28.137 6.607 9 11.036 9 16.501c0 .134.021.267.043.4h-.004l2.959 19.773c1.459 1.119 3.61 2.157 6.315 3.082-3.398 1.329-5.356 2.877-5.356 4.532 0 .121.019.24.04.36h-.004l2.672 17.827c1.561 1.194 4 2.384 7.109 3.463-4.18 1.34-6.65 2.984-6.65 4.763 0 .11.018.22.036.33h-.004L18.6 85.218c4.674 3.578 17.887 8.27 33.47 8.27 14.18 0 25.871-3.191 31.481-6.271l2.359-13.794c-6.273 2.122-20.173 6.16-32.365 6.16-19.345 0-31.862-3.522-31.862-7.866 0-1.61 2.161-3.108 5.861-4.355 6.696 1.72 15.312 2.907 24.73 2.907 15.511 0 28.876-3.392 35.012-6.762l2.004-14.938c-6.861 2.321-18.602 5.435-31.937 5.435-21.161 0-38.315-3.852-38.315-8.604.001-1.494 1.693-2.897 4.668-4.12z"></path>
            </g>
          </g>
        </svg>
      </svg>
    </div>

    <div class="flex flex-col flex-wrap py-3 px-5">

      <div class="w-full">

        <div class="flex items-center mb-1">
          <router-link :to="{ name: 'server'}" class="btn-link ">
            Databases
          </router-link>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 fill-current text-gray-400"
               style="transform: rotate(90deg);">
            <path
                d="M8.7 13.7a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L12 10.42l-3.3 3.3z"></path>
          </svg>
        </div>

        <div class="flex items-center mb-1" v-if="active_database">
          <router-link :to="{ name: 'database', params: {database: active_database }}" class="btn-link">
            {{ active_database }}
          </router-link>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 fill-current text-gray-400"
               style="transform: rotate(90deg);">
            <path
                d="M8.7 13.7a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L12 10.42l-3.3 3.3z"></path>
          </svg>
        </div>

        <div class="flex items-center mb-1 " v-if="active_database && $route.params.hasOwnProperty('tableid')">
          <router-link :to="{ name: 'table', params: {database: active_database, tableid: $route.params.tableid }}" class="btn-link">
            {{ $route.params.tableid }}
          </router-link>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 fill-current text-gray-400"
               style="transform: rotate(90deg);">
            <path
                d="M8.7 13.7a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L12 10.42l-3.3 3.3z"></path>
          </svg>
        </div>

      </div>

      <hr class="border-light-200 my-3">

      <div class="w-full">
        <router-link :to="{ name: 'query' }" class="btn-link">
          Query
        </router-link>
        <router-link :to="{ name: 'query' }" class="btn-link">
          Search
        </router-link>
        <router-link :to="{ name: 'query' }" class="btn-link">
          Import
        </router-link>
        <router-link :to="{ name: 'query' }" class="btn-link">
          Export
        </router-link>
      </div>

      <hr class="border-light-200 my-3">

      <div class="w-full mb-8">
        <a @click="refreshCache()" class="btn-link">
          Refresh cache
        </a>
        <a @click="refreshPage()" class="btn-link">
          Refresh page
        </a>
        <router-link :to="{ name: 'settings' }" class="btn-link">
          Settings &amp; help
        </router-link>
        <a href="" class="btn-link">
          Logout
        </a>
      </div>
    </div>

  </div>
</template>


<script>

export default {
  name: 'MainNavigation',

  data() {
    return {}
  },

  computed: {
    active_database() {
      return this.$store.state.activeDatabase;
    },
  },

  methods: {

    refreshCache() {
      this.$store.dispatch('refreshTables')
      this.$store.dispatch('refreshDatabases')
    },

    refreshPage() {
      this.$store.state.reloadMainComponentKey += 1;
    }

  },
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>

.main-navigation {
  @apply border-r border-light-100 z-40 w-56 h-full absolute;
  margin-left: -215px;
}

.main-navigation:hover {
  @apply ml-0 bg-dark-400 border-0;
  transition: all 0.3s ease;
}

.btn-link {
  @apply block w-full py-1;
}

</style>
